# üîÑ Ciclo Iterativo de Auditor√≠a ‚Üí Cierre ‚Üí Pruebas ‚Üí √âxito Total

**Versi√≥n:** 1.0.0  
**Fecha:** 2025-11-12  
**Autor:** Sistema de Prompts Profesional  
**Status:** ‚úÖ Metodolog√≠a Validada

---

## üéØ Prop√≥sito

Documentar el **ciclo completo iterativo** para alcanzar √©xito total en calidad, compliance y funcionalidad mediante auditor√≠as sistem√°ticas, cierre de brechas, pruebas exhaustivas y correcci√≥n continua hasta lograr **0 brechas cr√≠ticas** y **cobertura ‚â•85%**.

---

## üîÑ Diagrama del Ciclo Completo

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    CICLO ITERATIVO COMPLETO                      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ   FASE 0     ‚îÇ
    ‚îÇ  INICIAL     ‚îÇ
    ‚îÇ  (Setup)     ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
           ‚îÇ
           ‚ñº
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ  FASE 1: AUDITOR√çA INICIAL                               ‚îÇ
    ‚îÇ  ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ  ‚îÇ
    ‚îÇ  ‚Ä¢ P4-Deep (l√≥gica negocio)                              ‚îÇ
    ‚îÇ  ‚Ä¢ P4-Infrastructure (ACLs, manifest, views)            ‚îÇ
    ‚îÇ  ‚Ä¢ Compliance Odoo 19 CE (checklist 8 patrones)         ‚îÇ
    ‚îÇ  ‚Ä¢ Output: Matriz de hallazgos P0/P1/P2                  ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
           ‚îÇ
           ‚ñº
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ  FASE 2: CIERRE DE BRECHAS                               ‚îÇ
    ‚îÇ  ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ  ‚îÇ
    ‚îÇ  ‚Ä¢ Priorizar P0 ‚Üí P1 ‚Üí P2                                ‚îÇ
    ‚îÇ  ‚Ä¢ Usar TEMPLATE_CIERRE_BRECHA.md                        ‚îÇ
    ‚îÇ  ‚Ä¢ Validar compliance Odoo 19 CE post-cambios            ‚îÇ
    ‚îÇ  ‚Ä¢ Commits con Conventional Commits                     ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
           ‚îÇ
           ‚ñº
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ  FASE 3: PRUEBAS EXHAUSTIVAS                             ‚îÇ
    ‚îÇ  ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ  ‚îÇ
    ‚îÇ  ‚Ä¢ Tests unitarios (pytest)                              ‚îÇ
    ‚îÇ  ‚Ä¢ Tests funcionales (Odoo test framework)              ‚îÇ
    ‚îÇ  ‚Ä¢ Tests de integraci√≥n (end-to-end)                    ‚îÇ
    ‚îÇ  ‚Ä¢ Coverage ‚â•85% (target)                                 ‚îÇ
    ‚îÇ  ‚Ä¢ Performance tests (N+1, queries, timeouts)            ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
           ‚îÇ
           ‚ñº
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ  FASE 4: AN√ÅLISIS DE RESULTADOS                          ‚îÇ
    ‚îÇ  ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ  ‚îÇ
    ‚îÇ  ¬øTests pasan?                                           ‚îÇ
    ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                      ‚îÇ
    ‚îÇ  ‚îÇ   S√ç     ‚îÇ         ‚îÇ    NO    ‚îÇ                      ‚îÇ
    ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                      ‚îÇ
    ‚îÇ       ‚îÇ                    ‚îÇ                            ‚îÇ
    ‚îÇ       ‚îÇ                    ‚ñº                            ‚îÇ
    ‚îÇ       ‚îÇ         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê             ‚îÇ
    ‚îÇ       ‚îÇ         ‚îÇ  FASE 5: BUGS           ‚îÇ             ‚îÇ
    ‚îÇ       ‚îÇ         ‚îÇ  ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ  ‚îÇ             ‚îÇ
    ‚îÇ       ‚îÇ         ‚îÇ  ‚Ä¢ Documentar bugs      ‚îÇ             ‚îÇ
    ‚îÇ       ‚îÇ         ‚îÇ  ‚Ä¢ Root cause analysis  ‚îÇ             ‚îÇ
    ‚îÇ       ‚îÇ         ‚îÇ  ‚Ä¢ Priorizar P0/P1/P2   ‚îÇ             ‚îÇ
    ‚îÇ       ‚îÇ         ‚îÇ  ‚Ä¢ Agregar a matriz     ‚îÇ             ‚îÇ
    ‚îÇ       ‚îÇ         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò             ‚îÇ
    ‚îÇ       ‚îÇ                ‚îÇ                                ‚îÇ
    ‚îÇ       ‚îÇ                ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                      ‚îÇ
    ‚îÇ       ‚îÇ                           ‚îÇ                      ‚îÇ
    ‚îÇ       ‚îÇ                           ‚ñº                      ‚îÇ
    ‚îÇ       ‚îÇ                ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îÇ
    ‚îÇ       ‚îÇ                ‚îÇ  VOLVER A FASE 2        ‚îÇ      ‚îÇ
    ‚îÇ       ‚îÇ                ‚îÇ  (Cierre de brechas)    ‚îÇ      ‚îÇ
    ‚îÇ       ‚îÇ                ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îÇ
    ‚îÇ       ‚îÇ                                                 ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
            ‚îÇ
            ‚ñº
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ  FASE 6: AUDITOR√çA DE VALIDACI√ìN                         ‚îÇ
    ‚îÇ  ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ  ‚îÇ
    ‚îÇ  ‚Ä¢ P4-Lite (compliance r√°pido)                           ‚îÇ
    ‚îÇ  ‚Ä¢ Verificar fixes aplicados                             ‚îÇ
    ‚îÇ  ‚Ä¢ Detectar regresiones                                  ‚îÇ
    ‚îÇ  ‚Ä¢ Validar nuevas brechas introducidas                   ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
           ‚îÇ
           ‚ñº
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ  FASE 7: CRITERIOS DE √âXITO                             ‚îÇ
    ‚îÇ  ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ  ‚îÇ
    ‚îÇ  ¬øCumple criterios √©xito?                                ‚îÇ
    ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                      ‚îÇ
    ‚îÇ  ‚îÇ   S√ç     ‚îÇ         ‚îÇ    NO    ‚îÇ                      ‚îÇ
    ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                      ‚îÇ
    ‚îÇ       ‚îÇ                    ‚îÇ                            ‚îÇ
    ‚îÇ       ‚ñº                    ‚îÇ                            ‚îÇ
    ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê           ‚îÇ                            ‚îÇ
    ‚îÇ  ‚îÇ   √âXITO     ‚îÇ           ‚îÇ                            ‚îÇ
    ‚îÇ  ‚îÇ   TOTAL     ‚îÇ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                            ‚îÇ
    ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                                        ‚îÇ
    ‚îÇ                                                          ‚îÇ
    ‚îÇ  ‚úÖ 0 brechas P0                                         ‚îÇ
    ‚îÇ  ‚úÖ ‚â§3 brechas P1                                        ‚îÇ
    ‚îÇ  ‚úÖ Coverage ‚â•85%                                        ‚îÇ
    ‚îÇ  ‚úÖ Tests 100% pasando                                   ‚îÇ
    ‚îÇ  ‚úÖ Compliance Odoo 19 CE 100%                          ‚îÇ
    ‚îÇ  ‚úÖ Performance aceptable (N+1 resuelto)                 ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üìã Fases Detalladas del Ciclo

### FASE 0: Setup Inicial (Pre-Auditor√≠a)

**Objetivo:** Preparar entorno y herramientas antes de iniciar ciclo.

**Checklist:**

- [ ] **Entorno Docker funcionando:**
  ```bash
  docker compose ps  # Verificar servicios activos
  docker compose exec odoo odoo-bin --version  # Verificar Odoo 19 CE
  ```

- [ ] **M√≥dulo instalado y actualizado:**
  ```bash
  docker compose exec odoo odoo-bin -u [MODULO] -d odoo19_db --stop-after-init
  ```

- [ ] **Tests base ejecutables:**
  ```bash
  docker compose exec odoo pytest /mnt/extra-addons/localization/[MODULO]/tests/ -v
  ```

- [ ] **Documentaci√≥n base le√≠da:**
  - [ ] `docs/prompts/02_compliance/CHECKLIST_ODOO19_VALIDACIONES.md`
  - [ ] `docs/prompts/03_maximas/MAXIMAS_AUDITORIA.md`
  - [ ] `docs/prompts/03_maximas/MAXIMAS_DESARROLLO.md`

**Output:** Entorno listo para auditor√≠a.

**Tiempo estimado:** 15-30 minutos

---

### FASE 1: Auditor√≠a Inicial (P4-Deep + P4-Infrastructure)

**Objetivo:** Identificar todas las brechas (P0/P1/P2) en m√≥dulo.

**Templates a usar:**

1. **P4-Deep (L√≥gica Negocio):**
   - Archivo: `docs/prompts/04_templates/TEMPLATE_P4_DEEP_ANALYSIS.md`
   - Dimensiones: A-J (arquitectura, integraciones, seguridad, performance, testing)
   - Output esperado: 1,200-1,500 palabras, ‚â•30 referencias c√≥digo

2. **P4-Infrastructure (Infraestructura Odoo):**
   - Archivo: `docs/prompts/04_templates/TEMPLATE_P4_INFRASTRUCTURE_AUDIT.md`
   - Dimensiones: K-O (ACLs, manifest, views, data, reports)
   - Output esperado: 400-600 palabras, ‚â•8 referencias c√≥digo

3. **Compliance Odoo 19 CE (OBLIGATORIO):**
   - Archivo: `docs/prompts/02_compliance/CHECKLIST_ODOO19_VALIDACIONES.md`
   - Validar 8 patrones deprecaci√≥n (P0/P1/P2)
   - Comando autom√°tico:
     ```bash
     grep -rn "t-esc\|type='json'\|attrs=\|self\._cr\|fields_view_get\|_sql_constraints" \
       addons/localization/[MODULO]/ --color=always
     ```

**Ejecuci√≥n:**

```bash
# Opci√≥n 1: Copilot CLI (recomendado)
copilot -p "$(cat docs/prompts/04_templates/TEMPLATE_P4_DEEP_ANALYSIS.md | sed 's/MODULE_NAME/[MODULO]/g')" \
  --allow-all-tools \
  --model claude-sonnet-4.5 \
  > docs/prompts/06_outputs/$(date +%Y-%m)/auditorias/AUDIT_[MODULO]_P4DEEP_$(date +%Y%m%d).md

copilot -p "$(cat docs/prompts/04_templates/TEMPLATE_P4_INFRASTRUCTURE_AUDIT.md | sed 's/MODULE_NAME/[MODULO]/g')" \
  --allow-all-tools \
  --model claude-sonnet-4.5 \
  > docs/prompts/06_outputs/$(date +%Y-%m)/auditorias/AUDIT_[MODULO]_P4INFRA_$(date +%Y%m%d).md

# Opci√≥n 2: Gemini CLI (alternativa)
gemini -p "$(cat docs/prompts/04_templates/TEMPLATE_P4_DEEP_ANALYSIS.md)" \
  --mode auto_edit \
  --model flash-pro \
  > docs/prompts/06_outputs/$(date +%Y-%m)/auditorias/AUDIT_[MODULO]_P4DEEP_$(date +%Y%m%d).md
```

**Consolidaci√≥n de Hallazgos:**

Crear matriz consolidada en formato CSV:

```csv
ID,Archivo/L√≠nea,Descripci√≥n,Criticidad,Compliance Odoo 19,Template Origen,Estado
H1,models/account_move.py:125,N+1 query en _get_dte_lines(),P0,NO,P4-Deep,Pendiente
H2,security/ir.model.access.csv:15,ACL faltante para account.move.l10n_cl_dte,P1,NO,P4-Infrastructure,Pendiente
H3,views/invoice_form.xml:45,Uso de t-esc en lugar de t-out,P0,S√ç,Compliance,Pendiente
```

**Output:** 
- `AUDIT_[MODULO]_P4DEEP_[FECHA].md`
- `AUDIT_[MODULO]_P4INFRA_[FECHA].md`
- `MATRIZ_HALLAZGOS_[MODULO]_[FECHA].csv`

**Tiempo estimado:** 15-20 minutos (P4-Deep) + 5-8 minutos (P4-Infrastructure) = **20-28 minutos**

---

### FASE 2: Cierre de Brechas (Priorizado P0 ‚Üí P1 ‚Üí P2)

**Objetivo:** Corregir brechas identificadas siguiendo est√°ndares Odoo 19 CE.

**Template a usar:**

- Archivo: `docs/prompts/04_templates/TEMPLATE_CIERRE_BRECHA.md`
- Adaptar para cada brecha espec√≠fica

**Proceso:**

1. **Priorizar brechas:**
   - P0 (Cr√≠ticas): Bloquean producci√≥n, compliance legal
   - P1 (Altas): Alto impacto funcional, seguridad
   - P2 (Medias): Mejoras, optimizaciones

2. **Para cada brecha P0:**
   ```bash
   # Crear prompt espec√≠fico desde template
   cat docs/prompts/04_templates/TEMPLATE_CIERRE_BRECHA.md | \
     sed "s/HALLAZGO_ID/H1/g" | \
     sed "s/DESCRIPCION_PROBLEMA/[Descripci√≥n espec√≠fica]/g" | \
     sed "s/ARCHIVO_LINEA/models\/account_move.py:125/g" > \
     docs/prompts/05_prompts_produccion/modulos/[MODULO]/CIERRE_H1_[FECHA].md
   
   # Ejecutar cierre
   copilot -p "$(cat docs/prompts/05_prompts_produccion/modulos/[MODULO]/CIERRE_H1_[FECHA].md)" \
     --allow-all-tools
   ```

3. **Validar compliance Odoo 19 CE post-cambios:**
   ```bash
   # Verificar NO se introdujeron deprecaciones
   git diff HEAD~1 | grep -E "t-esc|type='json'|attrs=|self\._cr|fields_view_get"
   
   # Esperado: 0 matches (excepto en comentarios/docs)
   ```

4. **Commit con Conventional Commits:**
   ```bash
   git add addons/localization/[MODULO]/
   git commit -m "fix([MODULO]): Resolve H1 - N+1 query in _get_dte_lines()
   
   - Refactor _get_dte_lines() to use batch product loading
   - Add prefetch optimization for product.product
   - Update tests to validate query count
   
   Closes: H1
   Compliance: Odoo 19 CE validated"
   ```

**Criterios de Aceptaci√≥n (DoD):**

- [ ] C√≥digo modificado cumple compliance Odoo 19 CE (0 deprecaciones)
- [ ] Test nuevo o modificado que valida el fix
- [ ] Test pasa exitosamente
- [ ] Coverage mantenido o mejorado
- [ ] Linter sin errores nuevos
- [ ] Documentaci√≥n actualizada si aplica

**Output:**
- C√≥digo corregido en repositorio
- Test nuevo/modificado
- Commit con mensaje descriptivo
- Actualizaci√≥n matriz: `Estado: Completado`

**Tiempo estimado:** Variable seg√∫n brecha (30 min - 4h por brecha P0)

---

### FASE 3: Pruebas Exhaustivas

**Objetivo:** Validar que fixes funcionan y no introdujeron regresiones.

**Tipos de Pruebas:**

#### 3.1 Tests Unitarios (pytest)

```bash
# Ejecutar tests m√≥dulo espec√≠fico
docker compose exec odoo pytest /mnt/extra-addons/localization/[MODULO]/tests/ -v

# Con coverage
docker compose exec odoo pytest /mnt/extra-addons/localization/[MODULO]/tests/ \
  --cov=/mnt/extra-addons/localization/[MODULO] \
  --cov-report=term-missing \
  --cov-report=html:coverage_html/
```

**Target:** Coverage ‚â•85% en c√≥digo cr√≠tico

#### 3.2 Tests Funcionales (Odoo Test Framework)

```bash
# Tests Odoo nativos
docker compose exec odoo odoo-bin -u [MODULO] -d odoo19_db --test-enable --stop-after-init
```

#### 3.3 Tests de Integraci√≥n (End-to-End)

```bash
# Tests integraci√≥n con servicios externos (SII, Previred)
docker compose exec odoo pytest /mnt/extra-addons/localization/[MODULO]/tests/integration/ -v -m integration
```

#### 3.4 Performance Tests

```bash
# Validar N+1 queries resueltas
docker compose exec odoo pytest /mnt/extra-addons/localization/[MODULO]/tests/test_performance.py -v

# Con QueryCounter
docker compose exec odoo pytest /mnt/extra-addons/localization/[MODULO]/tests/test_performance.py::test_dte_generation_no_n_plus_one -v
```

**Checklist de Pruebas:**

- [ ] **Tests unitarios:** 100% pasando
- [ ] **Tests funcionales:** 100% pasando
- [ ] **Tests integraci√≥n:** 100% pasando (si aplica)
- [ ] **Coverage:** ‚â•85% c√≥digo cr√≠tico
- [ ] **Performance:** N+1 queries resueltas
- [ ] **Linter:** Sin errores nuevos
- [ ] **Compliance Odoo 19 CE:** Validado post-cambios

**Output:**
- Reporte coverage: `coverage_html/index.html`
- Logs tests: `test_results_[FECHA].log`
- M√©tricas performance: `performance_metrics_[FECHA].json`

**Tiempo estimado:** 10-30 minutos (seg√∫n cantidad tests)

---

### FASE 4: An√°lisis de Resultados

**Objetivo:** Decidir si continuar ciclo o proceder a validaci√≥n final.

**Pregunta cr√≠tica:** ¬øTodos los tests pasan?

#### Opci√≥n A: ‚úÖ Tests Pasando

**Proceder a:** FASE 6 (Auditor√≠a de Validaci√≥n)

#### Opci√≥n B: ‚ùå Tests Fallando

**Proceder a:** FASE 5 (Bugs)

**An√°lisis de fallos:**

1. **Identificar tests fallando:**
   ```bash
   docker compose exec odoo pytest /mnt/extra-addons/localization/[MODULO]/tests/ -v --tb=short | grep FAILED
   ```

2. **Clasificar fallos:**
   - **Regresi√≥n:** Test que pasaba antes y ahora falla
   - **Nuevo bug:** Test nuevo que falla (fix incompleto)
   - **Test incorrecto:** Test con expectativa err√≥nea

3. **Documentar bugs:**
   - Crear entrada en matriz de hallazgos
   - Priorizar P0/P1/P2 seg√∫n impacto
   - Agregar a `MATRIZ_HALLAZGOS_[MODULO]_[FECHA].csv`

**Output:**
- Lista tests fallando con root cause
- Bugs documentados en matriz
- Decisi√≥n: Continuar FASE 5 o FASE 6

**Tiempo estimado:** 15-30 minutos

---

### FASE 5: Bugs (Documentaci√≥n y An√°lisis)

**Objetivo:** Documentar bugs encontrados y agregarlos al ciclo de cierre.

**Proceso:**

1. **Root Cause Analysis (RCA):**
   ```markdown
   ## Bug B1: Test test_dte_generation_no_n_plus_one falla
   
   **S√≠ntoma:**
   - Test espera ‚â§5 queries, obtiene 12 queries
   - N+1 query NO completamente resuelto
   
   **Root Cause:**
   - Prefetch aplicado solo a productos, NO a categor√≠as
   - Categor√≠as se cargan individualmente en bucle
   
   **Archivos Afectados:**
   - `models/account_move_dte.py:125-145`
   - `models/account_move_dte.py:180-195` (nuevo c√≥digo)
   
   **Prioridad:** P1 (Alta - Performance)
   ```

2. **Agregar a Matriz:**
   ```csv
   ID,Archivo/L√≠nea,Descripci√≥n,Criticidad,Compliance Odoo 19,Template Origen,Estado
   B1,models/account_move_dte.py:180-195,Prefetch incompleto - categor√≠as N+1,P1,NO,Bug Testing,Pendiente
   ```

3. **Priorizar:**
   - Si P0: Volver inmediatamente a FASE 2
   - Si P1: Agregar a backlog, continuar con otros fixes
   - Si P2: Documentar para siguiente iteraci√≥n

**Output:**
- Bugs documentados en `BUGS_[MODULO]_[FECHA].md`
- Matriz actualizada con bugs
- Decisi√≥n: Volver FASE 2 o continuar

**Tiempo estimado:** 30-60 minutos (seg√∫n complejidad bugs)

---

### FASE 6: Auditor√≠a de Validaci√≥n (P4-Lite)

**Objetivo:** Verificar que fixes aplicados funcionan y no introdujeron regresiones.

**Template a usar:**

- Archivo: `docs/prompts/04_templates/TEMPLATE_AUDITORIA.md` (versi√≥n P4-Lite)
- Enfoque: Validaci√≥n r√°pida compliance + regresiones

**Verificaciones:**

1. **Compliance Odoo 19 CE:**
   ```bash
   # Verificar NO hay deprecaciones nuevas
   grep -rn "t-esc\|type='json'\|attrs=\|self\._cr\|fields_view_get\|_sql_constraints" \
     addons/localization/[MODULO]/ --color=always | grep -v ".backup" | grep -v "tests/"
   
   # Esperado: 0 matches
   ```

2. **Regresiones:**
   - Comparar coverage antes/despu√©s
   - Verificar tests que pasaban siguen pasando
   - Validar performance no degrad√≥

3. **Nuevas brechas:**
   - Revisar c√≥digo nuevo introducido
   - Validar ACLs si se agregaron modelos
   - Verificar manifest si se agregaron dependencias

**Ejecuci√≥n:**

```bash
copilot -p "$(cat docs/prompts/04_templates/TEMPLATE_AUDITORIA.md | \
  sed 's/MODULE_NAME/[MODULO]/g' | \
  sed 's/AUDITORIA_TYPE/Validaci√≥n Post-Fix/g')" \
  --allow-all-tools \
  > docs/prompts/06_outputs/$(date +%Y-%m)/auditorias/VALIDACION_[MODULO]_POSTFIX_$(date +%Y%m%d).md
```

**Output:**
- `VALIDACION_[MODULO]_POSTFIX_[FECHA].md`
- Lista regresiones detectadas (si hay)
- Lista nuevas brechas (si hay)

**Tiempo estimado:** 5-10 minutos

---

### FASE 7: Criterios de √âxito

**Objetivo:** Validar si se alcanz√≥ √©xito total o continuar ciclo.

**Criterios de √âxito (Todos deben cumplirse):**

| Criterio | Target | C√≥mo Validar |
|----------|-------|--------------|
| **Brechas P0** | 0 | Matriz CSV: `Criticidad=P0 AND Estado=Pendiente` = 0 |
| **Brechas P1** | ‚â§3 | Matriz CSV: `Criticidad=P1 AND Estado=Pendiente` ‚â§ 3 |
| **Coverage** | ‚â•85% | `pytest --cov-report=term-missing` muestra ‚â•85% |
| **Tests pasando** | 100% | `pytest -v` muestra 0 FAILED |
| **Compliance Odoo 19 CE** | 100% | `grep deprecaciones` muestra 0 matches |
| **Performance** | N+1 resuelto | `QueryCounter` muestra queries constantes |

**Validaci√≥n Autom√°tica:**

```bash
# Script validaci√≥n criterios √©xito
cat > scripts/validate_success_criteria.sh << 'EOF'
#!/bin/bash

MODULE=$1
DATE=$(date +%Y%m%d)

# 1. Brechas P0
P0_COUNT=$(grep -c "P0.*Pendiente" docs/prompts/06_outputs/*/auditorias/MATRIZ_HALLAZGOS_${MODULE}_*.csv 2>/dev/null || echo "0")
if [ "$P0_COUNT" -eq 0 ]; then
  echo "‚úÖ P0: 0 brechas cr√≠ticas"
else
  echo "‚ùå P0: $P0_COUNT brechas cr√≠ticas pendientes"
fi

# 2. Coverage
COVERAGE=$(docker compose exec odoo pytest /mnt/extra-addons/localization/${MODULE}/tests/ \
  --cov=/mnt/extra-addons/localization/${MODULE} \
  --cov-report=term-missing 2>&1 | grep "TOTAL" | awk '{print $NF}' | sed 's/%//')
if (( $(echo "$COVERAGE >= 85" | bc -l) )); then
  echo "‚úÖ Coverage: ${COVERAGE}% (‚â•85%)"
else
  echo "‚ùå Coverage: ${COVERAGE}% (<85%)"
fi

# 3. Tests pasando
FAILED=$(docker compose exec odoo pytest /mnt/extra-addons/localization/${MODULE}/tests/ -v 2>&1 | grep -c "FAILED")
if [ "$FAILED" -eq 0 ]; then
  echo "‚úÖ Tests: 100% pasando"
else
  echo "‚ùå Tests: $FAILED tests fallando"
fi

# 4. Compliance Odoo 19 CE
DEPRECATIONS=$(grep -rn "t-esc\|type='json'\|attrs=\|self\._cr\|fields_view_get\|_sql_constraints" \
  addons/localization/${MODULE}/ --color=never 2>/dev/null | grep -v ".backup" | grep -v "tests/" | wc -l)
if [ "$DEPRECATIONS" -eq 0 ]; then
  echo "‚úÖ Compliance Odoo 19 CE: 100%"
else
  echo "‚ùå Compliance Odoo 19 CE: $DEPRECATIONS deprecaciones encontradas"
fi
EOF

chmod +x scripts/validate_success_criteria.sh
./scripts/validate_success_criteria.sh [MODULO]
```

**Decisi√≥n:**

- ‚úÖ **Todos los criterios cumplidos:** **√âXITO TOTAL** ‚Üí Fin del ciclo
- ‚ùå **Alg√∫n criterio NO cumplido:** Volver a FASE 1 (nueva auditor√≠a) o FASE 2 (cierre brechas pendientes)

**Output:**
- Reporte validaci√≥n: `VALIDACION_EXITO_[MODULO]_[FECHA].md`
- Decisi√≥n: Continuar ciclo o √©xito total

**Tiempo estimado:** 5-10 minutos

---

## üîÅ Iteraciones del Ciclo

### Iteraci√≥n 1: Auditor√≠a Inicial

**Input:** M√≥dulo sin auditor√≠a previa  
**Output:** Matriz inicial con 20-30 hallazgos  
**Tiempo:** 1-2 horas (FASE 1 + FASE 2 parcial)

### Iteraci√≥n 2: Cierre P0

**Input:** Matriz con 5-8 brechas P0  
**Output:** P0 cerradas, tests pasando parcialmente  
**Tiempo:** 4-8 horas (FASE 2 + FASE 3)

### Iteraci√≥n 3: Bugs Detectados

**Input:** Tests fallando despu√©s de fixes  
**Output:** Bugs documentados, algunos fixes adicionales  
**Tiempo:** 2-4 horas (FASE 4 + FASE 5 + FASE 2 parcial)

### Iteraci√≥n 4: Validaci√≥n y Refinamiento

**Input:** Tests pasando, coverage mejorando  
**Output:** Coverage ‚â•85%, compliance validado  
**Tiempo:** 1-2 horas (FASE 6 + FASE 7)

### Iteraci√≥n 5: √âxito Total

**Input:** Todos los criterios cumplidos  
**Output:** ‚úÖ √âXITO TOTAL  
**Tiempo:** 0 horas (solo validaci√≥n)

---

## üìä M√©tricas del Ciclo

### Tracking de Progreso

**Matriz de Estado:**

| Iteraci√≥n | Brechas P0 | Brechas P1 | Coverage | Tests Pasando | Compliance | Estado |
|-----------|------------|------------|----------|---------------|-------------|--------|
| Inicial   | 8          | 12         | 45%      | 60%           | 75%         | ‚ö†Ô∏è     |
| Iter 1    | 5          | 10         | 52%      | 70%           | 82%         | üîÑ     |
| Iter 2    | 2          | 8          | 68%      | 85%           | 90%         | üîÑ     |
| Iter 3    | 1          | 5          | 75%      | 92%           | 95%         | üîÑ     |
| Iter 4    | 0          | 3          | 82%      | 98%           | 98%         | üîÑ     |
| Iter 5    | 0          | 2          | 87%      | 100%          | 100%        | ‚úÖ     |

### ROI del Ciclo

**Inversi√≥n t√≠pica:**
- Iteraci√≥n 1: 2h (auditor√≠a inicial)
- Iteraci√≥n 2: 6h (cierre P0)
- Iteraci√≥n 3: 3h (bugs)
- Iteraci√≥n 4: 1.5h (validaci√≥n)
- **Total:** 12.5 horas

**Valor generado:**
- ‚úÖ 0 brechas cr√≠ticas (riesgo producci√≥n eliminado)
- ‚úÖ Coverage 87% (confiabilidad c√≥digo)
- ‚úÖ Compliance 100% (sin multas SII)
- ‚úÖ Performance optimizado (N+1 resuelto)

**ROI:** **800-1,200%** (prevenci√≥n bugs producci√≥n + compliance legal)

---

## üöÄ Comandos R√°pidos del Ciclo

### Iniciar Ciclo Completo

```bash
# 1. Setup inicial
./docs/prompts/08_scripts/setup_audit_cycle.sh [MODULO]

# 2. Ejecutar FASE 1 (Auditor√≠a)
./docs/prompts/08_scripts/audit_p4_deep_copilot.sh [MODULO]
./docs/prompts/08_scripts/audit_p4_infrastructure_copilot.sh [MODULO]

# 3. Consolidar hallazgos
./docs/prompts/08_scripts/consolidate_findings.sh [MODULO]

# 4. Cerrar brechas P0
./docs/prompts/08_scripts/close_breach.sh [MODULO] H1

# 5. Ejecutar pruebas
./docs/prompts/08_scripts/run_tests.sh [MODULO]

# 6. Validar √©xito
./scripts/validate_success_criteria.sh [MODULO]
```

### Scripts Recomendados (Pendientes Creaci√≥n)

**Ubicaci√≥n:** `docs/prompts/08_scripts/`

1. `setup_audit_cycle.sh` - Setup inicial ciclo
2. `audit_p4_deep_copilot.sh` - Auditor√≠a P4-Deep
3. `audit_p4_infrastructure_copilot.sh` - Auditor√≠a P4-Infrastructure
4. `consolidate_findings.sh` - Consolidar hallazgos en matriz
5. `close_breach.sh` - Cerrar brecha espec√≠fica
6. `run_tests.sh` - Ejecutar suite completa pruebas
7. `validate_success_criteria.sh` - Validar criterios √©xito

---

## üìö Referencias

### Documentos Clave

- **Templates:**
  - `docs/prompts/04_templates/TEMPLATE_P4_DEEP_ANALYSIS.md`
  - `docs/prompts/04_templates/TEMPLATE_P4_INFRASTRUCTURE_AUDIT.md`
  - `docs/prompts/04_templates/TEMPLATE_CIERRE_BRECHA.md`
  - `docs/prompts/04_templates/TEMPLATE_AUDITORIA.md`

- **Compliance:**
  - `docs/prompts/02_compliance/CHECKLIST_ODOO19_VALIDACIONES.md`

- **M√°ximas:**
  - `docs/prompts/03_maximas/MAXIMAS_AUDITORIA.md`
  - `docs/prompts/03_maximas/MAXIMAS_DESARROLLO.md`

- **Estrategia:**
  - `docs/prompts/01_fundamentos/ESTRATEGIA_PROMPTING_ALTA_PRECISION.md`

### Ejemplos de Outputs

- `docs/prompts/06_outputs/2025-11/auditorias/20251111_AUDIT_DTE_DEEP.md`
- `docs/prompts/06_outputs/2025-11/cierres/20251111_CIERRE_H1_H5_DTE.md`

---

## ‚úÖ Checklist de Uso del Ciclo

**Antes de iniciar:**

- [ ] Entorno Docker funcionando
- [ ] M√≥dulo instalado y actualizado
- [ ] Tests base ejecutables
- [ ] Documentaci√≥n base le√≠da

**Durante el ciclo:**

- [ ] FASE 1: Auditor√≠a ejecutada (P4-Deep + P4-Infrastructure)
- [ ] Matriz de hallazgos creada y priorizada
- [ ] FASE 2: Brechas P0 cerradas
- [ ] FASE 3: Tests ejecutados y pasando
- [ ] FASE 4: Resultados analizados
- [ ] FASE 5: Bugs documentados (si aplica)
- [ ] FASE 6: Validaci√≥n ejecutada
- [ ] FASE 7: Criterios √©xito validados

**Al finalizar:**

- [ ] Reporte final generado
- [ ] Matriz actualizada con estado final
- [ ] Documentaci√≥n actualizada
- [ ] Commits con mensajes descriptivos

---

**Mantenedor:** Sistema de Prompts Profesional  
**√öltima actualizaci√≥n:** 2025-11-12  
**Versi√≥n:** 1.0.0  
**License:** LGPL-3 (Odoo modules) + MIT (documentation)

