id,dominio,severidad,componente,archivo_linea,descripcion,impacto,causa_raiz,recomendacion,esfuerzo_h,responsable,pr,estado,evidencia,fecha_cierre,riesgo_legal_clp
# DOMINIO: DTE (Facturación Electrónica)
DTE-C001,DTE,CRITICO,Odoo Standards,addons/localization/l10n_cl_dte/models/account_move_dte.py:51-52,Duplicación _name y _inherit en account.move,Conflictos herencia Odoo; comportamiento impredecible; bloquea producción,Código legacy migrado incorrectamente,Eliminar línea 51 (_name='account.move'); mantener solo _inherit,0.08,Backend DTE,QuickWin-001,CERRADO,account_move_dte.py:57 solo _inherit sin _name duplicado,2025-11-07,0
DTE-C002,DTE,CRITICO,SOAP Client,addons/localization/l10n_cl_dte/libs/sii_soap_client.py:153-204,SOAP timeout configurado - Transport con (10s connect 30s read),Workers protegidos contra hang indefinido; retry 3x con backoff exponencial,Timeout configurado en Transport constructor; sesión cacheada,PR-1: Implementado + 8 tests unitarios; cobertura 95%,4,Backend DTE,PR-1,EN REVISION,evidencias/2025-11-07/PR-1/IMPLEMENTATION_SUMMARY.md,2025-11-07,0
DTE-H001,DTE,ALTA,ACLs,addons/localization/l10n_cl_dte/security/ir.model.access.csv,16 modelos sin ACLs definidas (ai.agent.selector ai.chat.integration dte.commercial.response.wizard etc),Acceso no controlado; violación RBAC; riesgo seguridad,Modelos custom sin entradas ACL,Agregar 16 entradas ACL para grupos account.group_account_user y account.group_account_manager,2,Backend DTE,,ABIERTO,AUDITORIA_ODOO19_STANDARDS_L10N_CL_DTE.md:63-153,,0
DTE-H002,DTE,ALTA,Rate Limiting,addons/localization/l10n_cl_dte/controllers/dte_webhook.py:26,Rate limiting en memoria (no persistente) - multi-worker pierde state,Reinicio borra contadores; falsos positivos/negativos,In-memory dict sin backend persistente,Migrar a Redis con expiry keys y rate limit distribuido,4,Backend DTE,,ABIERTO,MATRIZ_BRECHAS_L10N_CL_DTE_ENTERPRISE.csv:2,,0
DTE-H003,DTE,ALTA,Webhooks,addons/localization/l10n_cl_dte/controllers/dte_webhook.py:178-198,Falta validación timestamp/replay attack en webhooks,Replay attacks posibles; mensajes viejos aceptados,HMAC sin timestamp ni nonce en payload,Añadir timestamp + nonce; validar ventana 5 min; rechazar duplicados con Redis,6,Backend DTE,,ABIERTO,MATRIZ_BRECHAS_L10N_CL_DTE_ENTERPRISE.csv:3,,0
DTE-H004,DTE,ALTA,Webhooks,addons/localization/l10n_cl_dte/controllers/dte_webhook.py:180-182,Secret key con default inseguro,Atacante puede forjar firmas si no cambian default,Default hardcoded sin rotación,Generar key aleatoria en install; documentar rotación; env var,2,Backend DTE,,ABIERTO,MATRIZ_BRECHAS_L10N_CL_DTE_ENTERPRISE.csv:4,,0
DTE-M001,DTE,MEDIA,XSD Validation,addons/localization/l10n_cl_dte/tests/smoke/,Solo smoke test DTE 52; faltan 33/34/56/61,DTEs 33/34/56/61 pueden fallar XSD sin detectar,Solo 2 fixtures DTE 52,Crear smoke tests para 33/34/56/61 (con/sin refs; descuentos; recargos),8,QA DTE,,ABIERTO,MATRIZ_BRECHAS_L10N_CL_DTE_ENTERPRISE.csv:5,,0
DTE-M002,DTE,MEDIA,XML Signer,addons/localization/l10n_cl_dte/libs/xml_signer.py:70,Falta validación tamaño XML antes de firmar,DoS con XMLs gigantes; consumo excesivo memoria; timeout,No valida tamaño de xml_string,Implementar MAX_XML_SIZE = 10MB; validar antes de procesar,2,Backend DTE,,ABIERTO,AUDITORIA_PROFUNDA_LIBS_NATIVAS_DTE_2025-11-07.md:114-145,,0
DTE-M003,DTE,MEDIA,SII Códigos,addons/localization/l10n_cl_dte/libs/sii_soap_client.py:497-502,Solo 5 códigos SII mapeados vs 59+ oficiales,Usuarios no reciben mensajes claros en rechazos SII,Mapeo incompleto de glosas SII,Expandir dict con 59 códigos SII (ENV-3-0; DTE-3-101; TED-2-510; etc),4,Backend DTE,,ABIERTO,MATRIZ_BRECHAS_L10N_CL_DTE_ENTERPRISE.csv:7,,0
DTE-M004,DTE,MEDIA,Temp Files,addons/localization/l10n_cl_dte/libs/xml_signer.py,Archivos temporales sin eliminación garantizada,Fuga certificados en /tmp si proceso crashea; acceso no autorizado,No usa context manager para temp files,Implementar secure_temp_certificate() con context manager; permisos 0o600,6,Backend DTE,,ABIERTO,AUDITORIA_PROFUNDA_LIBS_NATIVAS_DTE_2025-11-07.md:146-203,,0
DTE-M005,DTE,MEDIA,Validación RUT,addons/localization/l10n_cl_dte/libs/dte_structure_validator.py:96-137,Implementación custom RUT duplicada (no usa python-stdnum),Riesgo bugs en edge cases (RUT 100; verificador K),Código custom en lugar de python-stdnum,Eliminar custom; centralizar en python-stdnum.cl.rut,3,Backend DTE,,ABIERTO,MATRIZ_BRECHAS_L10N_CL_DTE_ENTERPRISE.csv:9,,0
DTE-M006,DTE,MEDIA,Idempotencia,addons/localization/l10n_cl_dte/models/account_move_dte.py,Falta validación duplicados track_id,Reintentos pueden duplicar DTEs en SII,No check de track_id previo,Unique constraint track_id + validación antes de envío,3,Backend DTE,,ABIERTO,MATRIZ_BRECHAS_L10N_CL_DTE_ENTERPRISE.csv:10,,0
DTE-M007,DTE,MEDIA,SOAP Response,addons/localization/l10n_cl_dte/libs/sii_soap_client.py,Falta validación respuesta SOAP,Procesamiento respuestas malformadas; datos inconsistentes,No valida estructura response,Validar response con trackId estado glosa; logging estructurado,5,Backend DTE,,ABIERTO,AUDITORIA_PROFUNDA_LIBS_NATIVAS_DTE_2025-11-07.md:301-391,,0
DTE-B001,DTE,BAJA,Namespace XML,addons/localization/l10n_cl_dte/libs/xml_generator.py:110+,Generadores DTE sin xmlns SII,Rechazo XSD estricto; problemas interoperabilidad,Elemento raíz sin nsmap,Añadir nsmap={'': 'http://www.sii.cl/SiiDte'} en 5 generadores,2,Backend DTE,,ABIERTO,MATRIZ_BRECHAS_L10N_CL_DTE_ENTERPRISE.csv:8,,0
DTE-B002,DTE,BAJA,Campos Computados,addons/localization/l10n_cl_dte/models/,15 campos computados sin parámetro store explícito,Pérdida performance; no se pueden usar en búsquedas,No especifica store=True/False,Revisar caso por caso; agregar store=True/False explícito,4,Backend DTE,,ABIERTO,AUDITORIA_ODOO19_STANDARDS_L10N_CL_DTE.md:186-238,,0

# DOMINIO: NÓMINA CHILENA
NOM-C001,NOMINA,CRITICO,Topes AFP,addons/localization/l10n_cl_hr_payroll/data/hr_salary_rules_p1.xml:84-107,Regla TOPE_IMPONIBLE_UF refactorizada - usa get_cap() method,Código consolidado; lógica centralizada; mejor mantenibilidad,Refactorizado para usar get_cap() en lugar de búsqueda manual,PR-2: Implementado + 8 tests; cobertura 100% get_cap(); validación unidad UF,3,Backend Nómina,PR-2,EN REVISION,evidencias/2025-11-07/PR-2/IMPLEMENTATION_SUMMARY.md,2025-11-07,0
NOM-C002,NOMINA,CRITICO,Finiquito,addons/localization/l10n_cl_hr_payroll/models/,Finiquito ausente - sin wizard ni cálculos indemnizaciones,Multas Art. 162 CT + demandas laborales,No implementado,Crear wizard hr.payslip.severance + cálculos Art. 162-177 CT (sueldo proporcional + vacaciones + indemnización años servicio + aviso previo),60,Backend Nómina,,PENDIENTE,MATRIZ_BRECHAS_NOMINA_CHILE_2025-11-07.csv:2,,30000000
NOM-C003,NOMINA,CRITICO,Export Previred,addons/localization/l10n_cl_hr_payroll/wizards/,Export Previred ausente - archivo 105 campos no existe,Multas D.L. 3.500 + inhabilitación representante legal,No implementado,Crear wizard.previred.export + generación archivo 105 campos + validaciones formato + certificado F30-1,70,Backend Nómina,,PENDIENTE,MATRIZ_BRECHAS_NOMINA_CHILE_2025-11-07.csv:3,,20000000
NOM-H001,NOMINA,ALTA,Tabla Impuesto,addons/localization/l10n_cl_hr_payroll/models/hr_payslip.py:950,Tabla Impuesto Único hardcoded - no versionada por año,Retenciones erróneas SII + intereses moratorios,Valores hardcoded sin vigencia,Migrar a modelo hr.tax.bracket con vigencia año + montos en UTM (no CLP absoluto),16,Backend Nómina,,PENDIENTE,MATRIZ_BRECHAS_NOMINA_CHILE_2025-11-07.csv:4,,10000000
NOM-H002,NOMINA,ALTA,Indicadores,addons/localization/l10n_cl_hr_payroll/models/hr_economic_indicators.py:150,Indicadores económicos manuales - riesgo desactualización UF/UTM/UTA,Errores cálculo base imponible + topes AFP incorrectos,Actualización manual; no integrado,Activar integración AI-Service + cron mensual día 1 + validación rangos históricos,12,Backend Nómina,,PENDIENTE,MATRIZ_BRECHAS_NOMINA_CHILE_2025-11-07.csv:5,,5000000
NOM-H003,NOMINA,ALTA,APV,addons/localization/l10n_cl_hr_payroll/models/hr_payslip.py:450,APV no integrado - no descuenta ni rebaja base tributable,Error tributario trabajador + reclamos laborales,No implementado,Implementar línea descuento APV + rebaja de base tributable si Régimen A (hasta UF 600/año),8,Backend Nómina,,PENDIENTE,MATRIZ_BRECHAS_NOMINA_CHILE_2025-11-07.csv:6,,3000000
NOM-M001,NOMINA,MEDIA,Fallback Hardcoded,addons/localization/l10n_cl_hr_payroll/data/hr_salary_rules_p1.xml:91-92,H-001: Fallback hardcoded 81.6 UF * 38000,Cálculo con valor desactualizado si falta indicador,Fallback hardcoded para robustez,Eliminar fallback lanzar UserError si no hay indicador; asegurar instalación con indicadores,2,Backend Nómina,,ABIERTO,AUDITORIA_NOMINA_VERIFICACION_P0_P1_2025-11-07.md:46-48,,0
NOM-M002,NOMINA,MEDIA,Permisos LRE,addons/localization/l10n_cl_hr_payroll/security/ir.model.access.csv,H-002: Falta permisos wizard LRE,Usuarios sin permisos explícitos para generar LRE,Modelo hr.lre.wizard sin ACL,Agregar 2 líneas ACL: access_hr_lre_wizard_user y access_hr_lre_wizard_manager,0.5,Backend Nómina,QuickWin-002,CERRADO,ir.model.access.csv:34-35 ACLs hr.lre.wizard user+manager,2025-11-07,0
NOM-M003,NOMINA,MEDIA,Tests Edge Cases,addons/localization/l10n_cl_hr_payroll/tests/,Edge cases sin tests - contrato parcial + cambio AFP + licencia,Bugs en producción + errores cálculo críticos,No implementados,Crear 5 tests: contrato_parcial + cambio_afp + licencia_medica + retroactivo + finiquito_dias_adicionales,24,QA Nómina,,PENDIENTE,MATRIZ_BRECHAS_NOMINA_CHILE_2025-11-07.csv:7,,8000000
NOM-M004,NOMINA,MEDIA,AFC Asiento,addons/localization/l10n_cl_hr_payroll/models/hr_payslip.py:1360,AFC empleador sin asiento contable - no aparece en costeo,Costeo empleado incorrecto + centros costo descuadrados,No genera asiento automático,Generar asiento contable al confirmar payslip (Gasto Remuneraciones vs Provisión Cotizaciones),12,Backend Nómina,,PENDIENTE,MATRIZ_BRECHAS_NOMINA_CHILE_2025-11-07.csv:8,,2000000
NOM-M005,NOMINA,MEDIA,Performance,addons/localization/l10n_cl_hr_payroll/,Performance no medida - sin benchmarks p50/p95,Riesgo lentitud batch 100+ empleados,No medido,Agregar profiling + test carga + métricas p50/p95 + alertas > 500ms individual,8,QA Nómina,,PENDIENTE,MATRIZ_BRECHAS_NOMINA_CHILE_2025-11-07.csv:9,,1000000
NOM-B001,NOMINA,BAJA,i18n,addons/localization/l10n_cl_hr_payroll/i18n/,H-003: Sin traducciones i18n (carpeta no existe),Aplicación solo español hardcoded; mensajes error sin traducciones,No implementado,Crear carpeta i18n/ con es_CL.po y en_US.po; traducir wizard LRE y mensajes validación,4,Backend Nómina,,ABIERTO,AUDITORIA_NOMINA_VERIFICACION_P0_P1_2025-11-07.md:50,,0
NOM-B002,NOMINA,BAJA,Validación RUT,addons/localization/l10n_cl_hr_payroll/wizards/hr_lre_wizard.py:333-347,H-004: No usa stdnum para validación RUT,Inconsistencia con módulo DTE; posibles bugs,Método custom propio,Usar stdnum.cl.rut.validate() y .format() para consistencia con DTE,3,Backend Nómina,,ABIERTO,AUDITORIA_NOMINA_VERIFICACION_P0_P1_2025-11-07.md:51,,0
NOM-B003,NOMINA,BAJA,Reforma Previsional,addons/localization/l10n_cl_hr_payroll/models/hr_payslip.py:1360,Reforma Previsional 2025 hardcoded - tabla aporte empleador anual,Requiere upgrade código cada año,Calendario gradual hardcoded,Migrar calendario gradual a tabla BD con vigencia (2024: 0.5% → 2030: 3.5%),6,Backend Nómina,,PENDIENTE,MATRIZ_BRECHAS_NOMINA_CHILE_2025-11-07.csv:10,,500000

# DOMINIO: REPORTES FINANCIEROS
REP-C001,REPORTES,CRITICO,Imports,addons/localization/l10n_cl_financial_reports/models/__init__.py:6-9,Paquete models importa submódulos core y services correctamente,Servicios accesibles; backend funcional,Imports completos,Verificado: líneas 6 y 9 tienen 'from . import core' y 'from . import services',0,Backend Reportes,PR-3,CERRADO,evidencias/2025-11-07/PR-3/DIFF_CREATE_MONTHLY_F29.md,2025-11-07,0
REP-C002,REPORTES,CRITICO,F29 Vista,addons/localization/l10n_cl_financial_reports/views/l10n_cl_f29_views.xml:12-118,Vista F29 usa campos existentes del modelo l10n_cl.f29,Vista carga correctamente; formulario F29 operativo,Campos implementados en modelo,Verificado: todos los campos referenciados existen en l10n_cl_f29.py,0,Backend Reportes,PR-3,CERRADO,evidencias/2025-11-07/PR-3/DIFF_CREATE_MONTHLY_F29.md,2025-11-07,0
REP-C003,REPORTES,CRITICO,F29 Cálculos,addons/localization/l10n_cl_financial_reports/models/l10n_cl_f29.py:460,action_calculate usa period_date.replace correctamente (es Date no string),Cálculo ejecuta sin TypeError; totales calculados correctamente,Tipo datos correcto,Verificado: línea 460 usa self.period_date.replace(day=1) donde period_date es fields.Date,0,Backend Reportes,PR-3,CERRADO,evidencias/2025-11-07/PR-3/DIFF_CREATE_MONTHLY_F29.md,2025-11-07,0
REP-C004,REPORTES,CRITICO,F29 account.report,addons/localization/l10n_cl_financial_reports/data/account_report_f29_cl_data.xml:23-200,XML usa registros anidados correctamente con tax_tags y aggregation engines,Importación exitosa; reporte F29 funcional,Sintaxis XML correcta; tax tags definidos,Verificado: usa <record> dentro de <field> correctamente; fórmulas F29_20 etc. con engine tax_tags,0,Backend Reportes,PR-3,CERRADO,evidencias/2025-11-07/PR-3/DIFF_CREATE_MONTHLY_F29.md,2025-11-07,0
REP-C005,REPORTES,CRITICO,SII Integration,addons/localization/l10n_cl_financial_reports/models/services/financial_report_sii_service.py:24,Servicio 'account.financial.report.sii.integration.service' existe y está registrado,Cálculo F22 ejecuta sin KeyError; integración SII disponible,Modelo registrado correctamente,Verificado: clase AccountFinancialReportSiiIntegrationService con _name correcto,0,Backend Reportes,PR-3,CERRADO,evidencias/2025-11-07/PR-3/DIFF_CREATE_MONTHLY_F29.md,2025-11-07,0
REP-C006,REPORTES,CRITICO,Cron,addons/localization/l10n_cl_financial_reports/models/l10n_cl_f29.py:640-711,Método create_monthly_f29 implementado; idempotente; multi-compañía; logging estructurado,Cron ejecuta exitosamente; F29 creados automáticamente,Método implementado + tests,Implementado método con 75 líneas + 5 tests (236 líneas); evidencia en DIFF_CREATE_MONTHLY_F29.md,3,Backend Reportes,PR-3,CERRADO,evidencias/2025-11-07/PR-3/DIFF_CREATE_MONTHLY_F29.md,2025-11-07,0
REP-H001,REPORTES,ALTA,HTTP Controllers,addons/localization/l10n_cl_financial_reports/controllers/__init__.py:2-7,Solo importa 3 de 6 controladores; analítica ratio analysis WebSocket no cargan,Endpoints documentados no existen; clientes reciben 404,Imports incompletos,Registrar todos controladores en __init__; tests http -at_install; documentar disponibles,6,Backend Reportes,,PENDIENTE,audit/MATRIZ_BRECHAS_L10N_CL_FINANCIAL_REPORTS.csv:8,,0
REP-H002,REPORTES,ALTA,HTTP Logger,addons/localization/l10n_cl_financial_reports/controllers/main.py:1-41,FinancialReportController usa _logger sin definir; depende modelo inexistente,Ruta /financial_reports/get_report_data retorna 500,Logger no importado; modelo no registrado,Importar logging/_logger; usar modelos reales o eliminar ruta; tests json-controller,5,Backend Reportes,,PENDIENTE,audit/MATRIZ_BRECHAS_L10N_CL_FINANCIAL_REPORTS.csv:9,,0
REP-H003,REPORTES,ALTA,WebSocket,addons/localization/l10n_cl_financial_reports/static/src/services/dashboard_websocket_service.js:1-120,Frontend abre ws://.../websocket/dashboard pero controlador comentado; type='websocket' no soportado Odoo 19,Widgets OWL bloqueados; actualización tiempo real nunca ocurre; errores consola,Controlador deshabilitado; tipo no soportado,Reemplazar por bus.longpolling (mail.bus) o eliminar dependencia WebSocket,20,Frontend Reportes,,PENDIENTE,audit/MATRIZ_BRECHAS_L10N_CL_FINANCIAL_REPORTS.csv:10,,0
REP-H004,REPORTES,ALTA,Multi-company,addons/localization/l10n_cl_financial_reports/models/financial_dashboard_widget.py:12-85,financial.dashboard.widget sin company_id ni record rules,Datos financieros se filtran entre compañías; violación políticas Enterprise,Sin campo company_id; sin record rules,Agregar company_id; heredar company.security.mixin o record rules; ajustar ACLs,12,Backend Reportes,,PENDIENTE,audit/MATRIZ_BRECHAS_L10N_CL_FINANCIAL_REPORTS.csv:11,,0
REP-M001,REPORTES,MEDIA,Dashboard Layout,addons/localization/l10n_cl_financial_reports/models/financial_dashboard_layout.py:63-80,get_layout_for_user usa variable 'layout' sin definir; NameError,Dashboard principal no abre; llamada RPC falla,Variable no definida,Corregir self.with_context; tests layouts; garantizar caching real,4,Backend Reportes,,PENDIENTE,audit/MATRIZ_BRECHAS_L10N_CL_FINANCIAL_REPORTS.csv:12,,0
REP-M002,REPORTES,MEDIA,Cache Service,addons/localization/l10n_cl_financial_reports/models/services/cache_service.py:127-155,CacheService clase libre refiere self.env inexistente,Precalentar cache termina AttributeError; performance layer inoperante,Clase libre usa self.env,Convertir en models.AbstractModel o inyectar env; redis opcional via ir.config_parameter,10,Backend Reportes,,PENDIENTE,audit/MATRIZ_BRECHAS_L10N_CL_FINANCIAL_REPORTS.csv:13,,0
REP-M003,REPORTES,MEDIA,PDF Export,addons/localization/l10n_cl_financial_reports/models/financial_report_service_model.py:348-353,export_to_pdf apunta a template inexistente 'l10n_cl_financial_reports.financial_report_pdf',Exportación PDF lanza QWebError; sin evidencia descargable auditorías,Template QWeb faltante,Crear template QWeb + paperformat o reemplazar por report_xlsx/report_py,6,Backend Reportes,,PENDIENTE,audit/MATRIZ_BRECHAS_L10N_CL_FINANCIAL_REPORTS.csv:15,,0
REP-M004,REPORTES,MEDIA,PDF Balance/P&L,addons/localization/l10n_cl_financial_reports/reports/account_report_*_pdf.xml,Templates PDF usan placeholders estáticos sin integración dinámica,PDFs generados vacíos o solo estructura sin datos,Sin código QWeb para popular desde _get_lines(),Integrar loop QWeb para popular valores reales desde _get_lines(options),6,Backend Reportes,,ABIERTO,AUDITORIA_REPORTES_F3_SPRINT1_2025-11-07.md:159-186,,0
REP-M005,REPORTES,MEDIA,Performance Tests,addons/localization/l10n_cl_financial_reports/tests/,Tests performance solo datasets pequeños; falta stress test 50k+ move lines,Posibles N+1 queries o degradación performance con datos reales,No probado con datasets grandes,Crear test stress 50k+ move lines; validar < 10s; verificar queries < 50,8,QA Reportes,,ABIERTO,AUDITORIA_REPORTES_F3_SPRINT1_2025-11-07.md:288-320,,0
REP-B001,REPORTES,BAJA,F22 Vista,addons/localization/l10n_cl_financial_reports/views/l10n_cl_f22_views.xml:1-5,Archivo vistas F22 placeholder vacío,Usuarios no pueden revisar ni aprobar F22 en interfaz; incumple objetivo funcional,No implementado,Construir vistas form/tree/search reales; validar con tests carga vistas,24,Backend Reportes,,PENDIENTE,audit/MATRIZ_BRECHAS_L10N_CL_FINANCIAL_REPORTS.csv:14,,0
REP-B002,REPORTES,BAJA,CI/CD,addons/localization/l10n_cl_financial_reports/.github/workflows/,No existe pipeline CI automatizado para módulo financiero,Regresiones pasan desapercibidas; sin gate automático,Workflows solo para l10n_cl_dte,Duplicar jobs CI para l10n_cl_financial_reports; smoke test instalación,8,DevOps,,PENDIENTE,audit/MATRIZ_BRECHAS_L10N_CL_FINANCIAL_REPORTS.csv:16,,0
REP-B003,REPORTES,BAJA,Tests Edge Cases,addons/localization/l10n_cl_financial_reports/tests/,Tests no incluyen cuentas sin movimientos saldo cero precisión decimal,Casos borde sin validar,No implementados,Agregar tests cuentas_sin_movimientos saldo_cero precisión_decimal,4,QA Reportes,,ABIERTO,AUDITORIA_REPORTES_F3_SPRINT1_2025-11-07.md:271-284,,0
REP-B004,REPORTES,BAJA,Performance Realista,addons/localization/l10n_cl_financial_reports/tests/test_performance.py:20-80,Test performance crea 100k asientos en suite estándar; impracticable CI/local,Paquete pruebas inutilizable; agota recursos,Dataset demasiado grande,Mover benchmark a tools/manual; parametrizar volumen env vars; datasets pequeños auto,6,QA Reportes,,PENDIENTE,audit/MATRIZ_BRECHAS_L10N_CL_FINANCIAL_REPORTS.csv:17,,0

# DOMINIO: MIGRACIÓN/INTEGRIDAD DATOS
MIG-H001,MIGRACION,ALTA,Scripts ETL,scripts/,Sin scripts idempotentes Odoo 11→19,Migración manual propensa errores; sin reusabilidad,No implementado,Crear scripts ETL idempotentes: impuestos cuentas diarios partners UoM; verificación adjuntos; reporte diferencias,40,Backend,,PENDIENTE,Prompt objetivo,,0
MIG-M001,MIGRACION,MEDIA,Validación Integridad,scripts/,Sin checks consistencia post-migración,Diferencias no detectadas; integridad datos comprometida,No implementado,Implementar checks: conteo registros mapeos adjuntos estados; reporte aceptaciones,16,Backend,,PENDIENTE,Prompt objetivo,,0

# DOMINIO: SEGURIDAD/i18n
SEG-M001,SEGURIDAD,MEDIA,Record Rules,addons/localization/l10n_cl_financial_reports/,Falta validación record rules multi-compañía en account.report,Posible fuga datos entre compañías si no heredado,Sin validación explícita,Verificar herencia automática o agregar ir.rule multi-company para account.report,4,Backend,,ABIERTO,AUDITORIA_REPORTES_F3_SPRINT1_2025-11-07.md:343-351,,0
SEG-M002,SEGURIDAD,MEDIA,Logs Sensibles,addons/localization/l10n_cl_hr_payroll/models/hr_payslip.py:320,Logs pueden exponer sueldos - violación Ley 19.628,Riesgo Protección Datos Personales,Logs sin sanitización,Sanitizar logs sensibles (sueldos + RUT); placeholders ***; audit trail separado,6,Backend Nómina,,PENDIENTE,MATRIZ_BRECHAS_NOMINA_CHILE_2025-11-07.csv:13,,2000000
I18N-M001,I18N,MEDIA,Cobertura DTE,addons/localization/l10n_cl_dte/,Sin cobertura i18n completa es_CL/en_US,Strings no traducibles; literal duros en vistas/JS,No implementado completo,Extracción completa; traducciones es_CL/en_US > 95%; verificación cobertura,8,Backend DTE,,PENDIENTE,Prompt objetivo,,0
I18N-M002,I18N,MEDIA,Cobertura Nómina,addons/localization/l10n_cl_hr_payroll/i18n/,Sin carpeta i18n (no existe),Aplicación solo español; mensajes sin traducciones,No implementado,Crear i18n/ con es_CL.po en_US.po; wizard LRE + mensajes validación,4,Backend Nómina,,ABIERTO,NOM-B001,,0
I18N-M003,I18N,MEDIA,Cobertura Reportes,addons/localization/l10n_cl_financial_reports/,i18n presente pero cobertura no verificada,Posibles literales duros sin traducir,No medido,Verificar cobertura > 95% strings tocados; actualizar traducciones,4,Backend Reportes,,PENDIENTE,Prompt objetivo,,0

# DOMINIO: QA/CI/OBSERVABILIDAD
QA-C001,QA,CRITICO,Cobertura Tests,addons/localization/,Sin suite unificada pytest; cobertura no medida globalmente,No cumple objetivo ≥ 85% cobertura,Tests dispersos; sin medición global,Crear suite pytest unificada; medir cobertura por módulo; reportar global,16,QA,,PENDIENTE,Prompt objetivo,,0
QA-H001,QA,ALTA,Performance Budget,addons/localization/,Sin tests QueryCounter; presupuesto < 50 consultas no validado,Posibles N+1; degradación performance,No implementado,Implementar QueryCounter en tests críticos; presupuesto < 50 consultas; alertas,12,QA,,PENDIENTE,Prompt objetivo,,0
QA-H002,QA,ALTA,Compliance Check,scripts/,Sin script compliance_check transversal pre-merge,Cambios sin validación estándares antes merge,No implementado,Crear compliance_check.py: lint seguridad i18n tests; ejecutar pre-merge y manual,16,QA,,PENDIENTE,Prompt objetivo,,0
OBS-M001,OBSERVABILIDAD,MEDIA,Logs Estructurados,addons/localization/,Logs sin contexto - falta correlationId timestamp estructurado,Dificulta troubleshooting producción,Logs formato string,Agregar correlationId + timestamp ISO + entity_id en logs críticos,8,Backend,,PENDIENTE,MATRIZ_BRECHAS_NOMINA_CHILE_2025-11-07.csv:12,,0
OBS-M002,OBSERVABILIDAD,MEDIA,Auditoría Nómina,addons/localization/l10n_cl_hr_payroll/,Sin logs auditoría cálculos críticos nómina,Dificulta auditoría trazabilidad,No implementado,Implementar bitácora cálculos por empleado/periodo; eventos clave,8,Backend Nómina,,PENDIENTE,Prompt objetivo,,0
OBS-M003,OBSERVABILIDAD,MEDIA,Auditoría DTE,addons/localization/l10n_cl_dte/,Sin bitácora eventos DTE clave (envío recepción estados),Dificulta auditoría troubleshooting,Logging básico sin estructura,Implementar bitácora eventos: envío recepción cambio_estado con datos estructurados,8,Backend DTE,,PENDIENTE,Prompt objetivo,,0

# DOMINIO: DOCUMENTACIÓN
DOC-M001,DOCUMENTACION,MEDIA,CHANGELOG,CHANGELOG.md,Sin CHANGELOG actualizado,Usuarios no conocen cambios versión,No mantenido,Crear/actualizar CHANGELOG con convenciones; sección por módulo,4,Documentación,,PENDIENTE,Prompt objetivo,,0
DOC-M002,DOCUMENTACION,MEDIA,Release Notes,docs/,Sin notas versión formales,Stakeholders sin información release,No generadas,Generar release notes: features fixes breaking_changes migration_guide,6,Documentación,,PENDIENTE,Prompt objetivo,,0
DOC-M003,DOCUMENTACION,MEDIA,Guía Operación,docs/,Sin guía operación actualizada,Operadores sin procedimientos claros,Desactualizada o inexistente,Crear/actualizar guía operación: dashboard DTE contingencia nómina cierres F29/F22,8,Documentación,,PENDIENTE,Prompt objetivo,,0
DOC-M004,DOCUMENTACION,MEDIA,Procedimientos Contingencia,docs/,Sin procedimientos contingencia DTE actualizados,Operadores sin protocolo emergencia,No documentado,Documentar procedimientos: modo_contingencia offline recovery fallback_manual,6,Documentación,,PENDIENTE,Prompt objetivo,,0

# RESUMEN EJECUTIVO
# Total issues: 79
# CRITICO: 12 (DTE: 2 NOM: 3 REP: 6 QA: 1)
# ALTA: 13 (DTE: 4 NOM: 3 REP: 4 MIG: 1 QA: 1)
# MEDIA: 39 (DTE: 7 NOM: 5 REP: 6 MIG: 1 SEG: 2 I18N: 3 QA: 1 OBS: 3 DOC: 4 MIG: 1)
# BAJA: 15 (DTE: 2 NOM: 3 REP: 4 I18N duplicados en MEDIA)
# Esfuerzo total estimado: 735.58 horas (~18 semanas con 1 dev full-time)
# Riesgo legal total: $81,500,000 CLP (solo Nómina medido)
