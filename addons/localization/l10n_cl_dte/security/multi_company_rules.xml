<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!--
    Multi-Company Record Rules
    ==========================

    Ensures data isolation between companies in multi-tenant environments.
    Each user can only access records from their allowed companies.

    Pattern: domain_force=[('company_id', 'in', company_ids)]
    - company_ids: List of companies the current user has access to
    - global=True: Applies to all users

    Standard: Odoo 19 CE Multi-Company Architecture
    Compliance: OCA Best Practices
    -->

    <!-- DTE Certificate -->
    <record id="rule_dte_certificate_company" model="ir.rule">
        <field name="name">DTE Certificate: multi-company</field>
        <field name="model_id" ref="model_dte_certificate"/>
        <field name="domain_force">[('company_id', 'in', company_ids)]</field>
        <field name="global" eval="True"/>
    </record>

    <!-- DTE CAF -->
    <record id="rule_dte_caf_company" model="ir.rule">
        <field name="name">DTE CAF: multi-company</field>
        <field name="model_id" ref="model_dte_caf"/>
        <field name="domain_force">[('company_id', 'in', company_ids)]</field>
        <field name="global" eval="True"/>
    </record>

    <!-- DTE Communication -->
    <record id="rule_dte_communication_company" model="ir.rule">
        <field name="name">DTE Communication: multi-company</field>
        <field name="model_id" ref="model_dte_communication"/>
        <field name="domain_force">[('company_id', 'in', company_ids)]</field>
        <field name="global" eval="True"/>
    </record>

    <!-- DTE Inbox -->
    <record id="rule_dte_inbox_company" model="ir.rule">
        <field name="name">DTE Inbox: multi-company</field>
        <field name="model_id" ref="model_dte_inbox"/>
        <field name="domain_force">[('company_id', 'in', company_ids)]</field>
        <field name="global" eval="True"/>
    </record>

    <!-- DTE Consumo Folios -->
    <record id="rule_dte_consumo_folios_company" model="ir.rule">
        <field name="name">DTE Consumo Folios: multi-company</field>
        <field name="model_id" ref="model_dte_consumo_folios"/>
        <field name="domain_force">[('company_id', 'in', company_ids)]</field>
        <field name="global" eval="True"/>
    </record>

    <!-- DTE Libro -->
    <record id="rule_dte_libro_company" model="ir.rule">
        <field name="name">DTE Libro: multi-company</field>
        <field name="model_id" ref="model_dte_libro"/>
        <field name="domain_force">[('company_id', 'in', company_ids)]</field>
        <field name="global" eval="True"/>
    </record>

    <!-- DTE Libro Guías -->
    <record id="rule_dte_libro_guias_company" model="ir.rule">
        <field name="name">DTE Libro Guías: multi-company</field>
        <field name="model_id" ref="model_dte_libro_guias"/>
        <field name="domain_force">[('company_id', 'in', company_ids)]</field>
        <field name="global" eval="True"/>
    </record>

    <!-- Analytic Dashboard -->
    <record id="rule_analytic_dashboard_company" model="ir.rule">
        <field name="name">Analytic Dashboard: multi-company</field>
        <field name="model_id" ref="model_analytic_dashboard"/>
        <field name="domain_force">[('company_id', 'in', company_ids)]</field>
        <field name="global" eval="True"/>
    </record>

    <!-- DTE Backup -->
    <record id="rule_dte_backup_company" model="ir.rule">
        <field name="name">DTE Backup: multi-company</field>
        <field name="model_id" ref="model_dte_backup"/>
        <field name="domain_force">[('company_id', 'in', company_ids)]</field>
        <field name="global" eval="True"/>
    </record>

    <!-- DTE Failed Queue -->
    <record id="rule_dte_failed_queue_company" model="ir.rule">
        <field name="name">DTE Failed Queue: multi-company</field>
        <field name="model_id" ref="model_dte_failed_queue"/>
        <field name="domain_force">[('company_id', 'in', company_ids)]</field>
        <field name="global" eval="True"/>
    </record>

    <!-- DTE Contingency -->
    <record id="rule_dte_contingency_company" model="ir.rule">
        <field name="name">DTE Contingency: multi-company</field>
        <field name="model_id" ref="model_dte_contingency"/>
        <field name="domain_force">[('company_id', 'in', company_ids)]</field>
        <field name="global" eval="True"/>
    </record>

    <!-- Boleta Honorarios -->
    <record id="rule_boleta_honorarios_company" model="ir.rule">
        <field name="name">Boleta Honorarios: multi-company</field>
        <field name="model_id" ref="model_l10n_cl_boleta_honorarios"/>
        <field name="domain_force">[('company_id', 'in', company_ids)]</field>
        <field name="global" eval="True"/>
    </record>

    <!-- BHE Book -->
    <record id="rule_l10n_cl_bhe_book_company" model="ir.rule">
        <field name="name">BHE Book: multi-company</field>
        <field name="model_id" ref="model_l10n_cl_bhe_book"/>
        <field name="domain_force">[('company_id', 'in', company_ids)]</field>
        <field name="global" eval="True"/>
    </record>

    <!-- BHE Retention Rate -->
    <record id="rule_l10n_cl_bhe_retention_rate_company" model="ir.rule">
        <field name="name">BHE Retention Rate: multi-company</field>
        <field name="model_id" ref="model_l10n_cl_bhe_retention_rate"/>
        <field name="domain_force">[('company_id', 'in', company_ids)]</field>
        <field name="global" eval="True"/>
    </record>

    <!-- RCV Entry -->
    <record id="rule_l10n_cl_rcv_entry_company" model="ir.rule">
        <field name="name">RCV Entry: multi-company</field>
        <field name="model_id" ref="model_l10n_cl_rcv_entry"/>
        <field name="domain_force">[('company_id', 'in', company_ids)]</field>
        <field name="global" eval="True"/>
    </record>

    <!-- RCV Period -->
    <record id="rule_l10n_cl_rcv_period_company" model="ir.rule">
        <field name="name">RCV Period: multi-company</field>
        <field name="model_id" ref="model_l10n_cl_rcv_period"/>
        <field name="domain_force">[('company_id', 'in', company_ids)]</field>
        <field name="global" eval="True"/>
    </record>

    <!-- Retencion IUE -->
    <record id="rule_retencion_iue_company" model="ir.rule">
        <field name="name">Retencion IUE: multi-company</field>
        <field name="model_id" ref="model_retencion_iue"/>
        <field name="domain_force">[('company_id', 'in', company_ids)]</field>
        <field name="global" eval="True"/>
    </record>

    <!-- Retencion IUE Tasa -->
    <record id="rule_retencion_iue_tasa_company" model="ir.rule">
        <field name="name">Retencion IUE Tasa: multi-company</field>
        <field name="model_id" ref="model_l10n_cl_retencion_iue_tasa"/>
        <field name="domain_force">[('company_id', 'in', company_ids)]</field>
        <field name="global" eval="True"/>
    </record>

    <!-- AI Chat Session (optional - if needed) -->
    <!-- <record id="rule_ai_chat_session_company" model="ir.rule">
        <field name="name">AI Chat Session: multi-company</field>
        <field name="model_id" ref="model_ai_chat_session"/>
        <field name="domain_force">[('company_id', 'in', company_ids)]</field>
        <field name="global" eval="True"/>
    </record> -->

</odoo>
