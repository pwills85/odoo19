// Lazy Widget Loader Styles
// Skeleton loading y animaciones

.o_lazy_widget_loader {
    position: relative;
    width: 100%;
    
    // Loading state con skeleton
    .o_widget_loading {
        padding: 1rem;
        height: 100%;
        display: flex;
        flex-direction: column;
    }
    
    .o_widget_skeleton {
        height: 100%;
        display: flex;
        flex-direction: column;
        
        .skeleton-header {
            padding: 0.75rem 1rem;
            border-bottom: 1px solid var(--o-gray-200);
            margin-bottom: 1rem;
        }
        
        .skeleton-content {
            flex: 1;
            padding: 0 1rem;
        }
    }
    
    // Skeleton lines con animación
    .skeleton-line {
        height: 1rem;
        background: linear-gradient(
            90deg,
            var(--o-gray-200) 25%,
            var(--o-gray-100) 50%,
            var(--o-gray-200) 75%
        );
        background-size: 200% 100%;
        animation: skeleton-loading 1.5s ease-in-out infinite;
        border-radius: 4px;
        margin-bottom: 0.75rem;
        
        &.skeleton-title {
            width: 40%;
            height: 1.25rem;
        }
        
        &.skeleton-value {
            width: 60%;
            height: 2rem;
            margin-bottom: 0.5rem;
        }
        
        &.skeleton-label {
            width: 80%;
            height: 0.875rem;
        }
        
        &.skeleton-row {
            width: 100%;
            margin-bottom: 0.5rem;
        }
    }
    
    // Skeleton shapes
    .skeleton-chart-placeholder {
        width: 100%;
        height: 200px;
        background: var(--o-gray-100);
        border-radius: 8px;
        position: relative;
        overflow: hidden;
        
        &::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(
                90deg,
                transparent,
                rgba(255, 255, 255, 0.4),
                transparent
            );
            animation: skeleton-shimmer 2s infinite;
        }
    }
    
    .skeleton-circle {
        width: 150px;
        height: 150px;
        border-radius: 50%;
        background: var(--o-gray-100);
        margin: 0 auto 1rem;
        position: relative;
        overflow: hidden;
        
        &::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(
                90deg,
                transparent,
                rgba(255, 255, 255, 0.4),
                transparent
            );
            animation: skeleton-shimmer 2s infinite;
        }
    }
    
    // Skeleton específico por tipo
    .skeleton-kpi {
        text-align: center;
        padding: 2rem;
    }
    
    .skeleton-table {
        .skeleton-row:first-child {
            background-color: var(--o-gray-300);
            height: 1.5rem;
        }
    }
    
    .skeleton-gauge {
        text-align: center;
        padding: 1rem;
    }
    
    // Error state
    .o_widget_error {
        padding: 2rem;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        
        .alert {
            max-width: 400px;
            margin: 0;
        }
    }
}

// Animaciones
@keyframes skeleton-loading {
    0% {
        background-position: 200% 0;
    }
    100% {
        background-position: -200% 0;
    }
}

@keyframes skeleton-shimmer {
    100% {
        left: 100%;
    }
}

// Optimización: reducir animaciones en modo de ahorro de energía
@media (prefers-reduced-motion: reduce) {
    .skeleton-line,
    .skeleton-chart-placeholder::after,
    .skeleton-circle::after {
        animation: none;
        background: var(--o-gray-200);
    }
}

// Dark mode
@media (prefers-color-scheme: dark) {
    .o_lazy_widget_loader {
        .skeleton-line {
            background: linear-gradient(
                90deg,
                var(--o-gray-700) 25%,
                var(--o-gray-800) 50%,
                var(--o-gray-700) 75%
            );
        }
        
        .skeleton-chart-placeholder,
        .skeleton-circle {
            background: var(--o-gray-800);
        }
    }
}